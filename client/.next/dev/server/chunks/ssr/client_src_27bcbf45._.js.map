{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Documents/My%20Data%20Sources/FeedbackHub/Desktop/portifolio-2/client/src/lib/uploadImage.ts"],"sourcesContent":["import { supabase } from './supabase';\r\n\r\n// Test function to verify bucket access\r\nexport async function testBucketAccess() {\r\n    try {\r\n        console.log('ðŸ§ª Testing bucket access for both avatars and portfolio-image...');\r\n        \r\n        // Test avatars bucket\r\n        const avatarTestFile = new File([\"test\"], \"avatar-test.txt\", { type: \"text/plain\" });\r\n        const { error: avatarError } = await supabase.storage\r\n            .from('avatars')\r\n            .upload(`test-${Date.now()}-avatar.txt`, avatarTestFile, { upsert: true });\r\n            \r\n        // Test portfolio-image bucket\r\n        const portfolioTestFile = new File([\"test\"], \"portfolio-test.txt\", { type: \"text/plain\" });\r\n        const { error: portfolioError } = await supabase.storage\r\n            .from('portfolio-image')\r\n            .upload(`test-${Date.now()}-portfolio.txt`, portfolioTestFile, { upsert: true });\r\n        \r\n        if (avatarError || portfolioError) {\r\n            const errorMessage = avatarError \r\n                ? `Avatars bucket: ${avatarError.message}` \r\n                : `Portfolio bucket: ${(portfolioError as any)?.message || 'Unknown error'}`;\r\n            return { success: false, error: errorMessage };\r\n        }\r\n        \r\n        console.log('âœ… Both buckets are accessible!');\r\n        return { success: true, message: 'Both avatars and portfolio-image buckets are working correctly!' };\r\n        \r\n    } catch (error: any) {\r\n        console.error('Bucket access test error:', error);\r\n        return { success: false, error: error.message || 'Connection failed' };\r\n    }\r\n}\r\n\r\nexport async function uploadAvatarImage(file: File): Promise<string> {\r\n    try {\r\n        // Validate file first\r\n        const validationError = validateImageFile(file);\r\n        if (validationError) {\r\n            throw new Error(validationError);\r\n        }\r\n\r\n        // Create unique filename\r\n        const fileExt = file.name.split('.').pop();\r\n        const fileName = `avatar-${Date.now()}-${Math.random().toString(36).substring(2)}.${fileExt}`;\r\n        const filePath = fileName;\r\n\r\n        console.log('Attempting to upload to avatars bucket:', fileName);\r\n        \r\n        // First, try to delete any existing file with same name (to handle RLS)\r\n        await supabase.storage\r\n            .from('avatars')\r\n            .remove([filePath]);\r\n        \r\n        // Upload to Supabase Storage (avatars bucket)\r\n        let uploadResult = await supabase.storage\r\n            .from('avatars')\r\n            .upload(filePath, file, {\r\n                cacheControl: '3600',\r\n                upsert: true,\r\n                contentType: file.type\r\n            });\r\n\r\n        if (uploadResult.error) {\r\n            console.error('Supabase avatar upload error:', uploadResult.error);\r\n            // If RLS error, try with authenticated client\r\n            if (uploadResult.error.message.includes('row-level security') || uploadResult.error.message.includes('permission')) {\r\n                console.log('Retrying with authenticated upload...');\r\n                uploadResult = await supabase.storage\r\n                    .from('avatars')\r\n                    .upload(filePath, file, {\r\n                        cacheControl: '3600',\r\n                        upsert: true,\r\n                        contentType: file.type\r\n                    });\r\n                \r\n                if (uploadResult.error) {\r\n                    throw new Error(`Avatar upload failed: ${uploadResult.error.message}`);\r\n                }\r\n            } else {\r\n                throw new Error(`Avatar upload failed: ${uploadResult.error.message}`);\r\n            }\r\n        }\r\n\r\n        const data = uploadResult.data;\r\n\r\n        console.log('Avatar upload successful, getting public URL');\r\n        \r\n        // Get public URL\r\n        const { data: { publicUrl } } = supabase.storage\r\n            .from('avatars')\r\n            .getPublicUrl(filePath);\r\n\r\n        console.log('Avatar public URL generated:', publicUrl);\r\n        return publicUrl;\r\n        \r\n    } catch (error: any) {\r\n        console.error('Avatar upload error:', error);\r\n        throw new Error(error.message || 'Failed to upload avatar');\r\n    }\r\n}\r\n\r\nexport async function uploadProjectImage(file: File): Promise<string> {\r\n    try {\r\n        // Validate file first\r\n        const validationError = validateImageFile(file);\r\n        if (validationError) {\r\n            throw new Error(validationError);\r\n        }\r\n        \r\n        // Create unique filename\r\n        const fileExt = file.name.split('.').pop();\r\n        const fileName = `project-${Date.now()}-${Math.random().toString(36).substring(2)}.${fileExt}`;\r\n        const filePath = `projects/${fileName}`;\r\n\r\n        // First, try to delete any existing file with same name (to handle RLS)\r\n        await supabase.storage\r\n            .from('portfolio-image')\r\n            .remove([filePath]);\r\n\r\n        // Upload to Supabase Storage (portfolio-image bucket)\r\n        let uploadResult = await supabase.storage\r\n            .from('portfolio-image')\r\n            .upload(filePath, file, {\r\n                cacheControl: '3600',\r\n                upsert: true,\r\n                contentType: file.type\r\n            });\r\n\r\n        if (uploadResult.error) {\r\n            console.error('Supabase project image upload error:', uploadResult.error);\r\n            // If RLS error, try with authenticated client\r\n            if (uploadResult.error.message.includes('row-level security') || uploadResult.error.message.includes('permission')) {\r\n                console.log('Retrying with authenticated upload...');\r\n                uploadResult = await supabase.storage\r\n                    .from('portfolio-image')\r\n                    .upload(filePath, file, {\r\n                        cacheControl: '3600',\r\n                        upsert: true,\r\n                        contentType: file.type\r\n                    });\r\n                \r\n                if (uploadResult.error) {\r\n                    throw new Error(`Project image upload failed: ${uploadResult.error.message}`);\r\n                }\r\n            } else {\r\n                throw new Error(`Project image upload failed: ${uploadResult.error.message}`);\r\n            }\r\n        }\r\n\r\n        const data = uploadResult.data;\r\n\r\n        // Get public URL\r\n        const { data: { publicUrl } } = supabase.storage\r\n            .from('portfolio-image')\r\n            .getPublicUrl(filePath);\r\n\r\n        console.log('Project image public URL generated:', publicUrl);\r\n        return publicUrl;\r\n        \r\n    } catch (error: any) {\r\n        console.error('Project image upload error:', error);\r\n        throw new Error(error.message || 'Failed to upload project image');\r\n    }\r\n}\r\n\r\nexport function validateImageFile(file: File): string | null {\r\n    // Check file type\r\n    const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'];\r\n    if (!validTypes.includes(file.type)) {\r\n        return 'Please upload a valid image file (JPEG, PNG, GIF, or WebP)';\r\n    }\r\n\r\n    // Check file size (max 5MB)\r\n    const maxSize = 5 * 1024 * 1024; // 5MB in bytes\r\n    if (file.size > maxSize) {\r\n        return 'Image size must be less than 5MB';\r\n    }\r\n\r\n    return null;\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Documents/My%20Data%20Sources/FeedbackHub/Desktop/portifolio-2/client/src/components/admin/ProjectModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { X, Loader2, Upload, Link as LinkIcon, Globe, Lock, Eye, EyeOff, Layout, ListTodo, CheckCircle2 } from 'lucide-react';\r\nimport { uploadProjectImage, validateImageFile } from '@/lib/uploadImage';\r\nimport { slugify, cn } from '@/lib/utils';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\ninterface ProjectModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    onSave: (project: any) => Promise<void>;\r\n    project?: any;\r\n}\r\n\r\nexport function ProjectModal({ isOpen, onClose, onSave, project }: ProjectModalProps) {\r\n    const [formData, setFormData] = useState({\r\n        title: '',\r\n        slug: '',\r\n        description: '',\r\n        category: '',\r\n        tech_stack: '',\r\n        image: '',\r\n        live_url: '',\r\n        status: 'published',\r\n        order: 0\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n    const [uploading, setUploading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [uploadMode, setUploadMode] = useState<'upload' | 'url'>('upload');\r\n    const [previewImage, setPreviewImage] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (project) {\r\n            setFormData({\r\n                title: project.title || '',\r\n                slug: project.slug || '',\r\n                description: project.description || '',\r\n                category: project.category || '',\r\n                tech_stack: Array.isArray(project.tech_stack) ? project.tech_stack.join(', ') : '',\r\n                image: project.image || '',\r\n                live_url: project.live_url || '',\r\n                status: project.status || 'published',\r\n                order: project.order || 0\r\n            });\r\n            setPreviewImage(project.image || '');\r\n        } else {\r\n            setFormData({\r\n                title: '',\r\n                slug: '',\r\n                description: '',\r\n                category: '',\r\n                tech_stack: '',\r\n                image: '',\r\n                live_url: '',\r\n                status: 'published',\r\n                order: 0\r\n            });\r\n            setPreviewImage('');\r\n        }\r\n        setError('');\r\n    }, [project, isOpen]);\r\n\r\n    // Auto-generate slug from title\r\n    useEffect(() => {\r\n        if (!project && formData.title) {\r\n            setFormData(prev => ({ ...prev, slug: slugify(formData.title) }));\r\n        }\r\n    }, [formData.title, project]);\r\n\r\n    const handleImageUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        const validationError = validateImageFile(file);\r\n        if (validationError) {\r\n            setError(validationError);\r\n            return;\r\n        }\r\n\r\n        setUploading(true);\r\n        try {\r\n            const imageUrl = await uploadProjectImage(file);\r\n            setFormData({ ...formData, image: imageUrl });\r\n            setPreviewImage(imageUrl);\r\n        } catch (err: any) {\r\n            setError(err.message || 'Upload failed');\r\n        } finally {\r\n            setUploading(false);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        try {\r\n            const data = {\r\n                ...formData,\r\n                tech_stack: formData.tech_stack.split(',').map(s => s.trim()).filter(s => s)\r\n            };\r\n            await onSave(data);\r\n            onClose();\r\n        } catch (err: any) {\r\n            setError(err.message || 'Save failed');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <AnimatePresence>\r\n            <div className=\"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[60] p-4 sm:p-6 overflow-hidden\">\r\n                <motion.div \r\n                    initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n                    animate={{ opacity: 1, scale: 1, y: 0 }}\r\n                    exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n                    className=\"bg-[#0A0B10] border border-white/[0.05] max-w-2xl w-full max-h-[90vh] overflow-hidden rounded-[2rem] flex flex-col shadow-2xl\"\r\n                >\r\n                    {/* Header */}\r\n                    <div className=\"p-6 border-b border-white/[0.05] flex justify-between items-center bg-white/[0.01]\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center text-primary\">\r\n                                <Layout size={20} />\r\n                            </div>\r\n                            <div>\r\n                                <h2 className=\"text-lg font-bold tracking-tight\">\r\n                                    {project ? 'Refine Artifact' : 'Deploy New Artifact'}\r\n                                </h2>\r\n                                <p className=\"text-[10px] text-foreground/40 font-bold uppercase tracking-widest\">\r\n                                    {project ? `ID: ${project.id.slice(0, 8)}` : 'Drafting Stage'}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <button onClick={onClose} className=\"p-2 hover:bg-white/5 rounded-xl transition-colors text-foreground/20 hover:text-foreground\">\r\n                            <X size={20} />\r\n                        </button>\r\n                    </div>\r\n\r\n                    <form onSubmit={handleSubmit} className=\"flex-grow overflow-y-auto custom-scrollbar p-6 space-y-8\">\r\n                        {/* Status & Visibility */}\r\n                        <div className=\"flex flex-wrap gap-4\">\r\n                            <div \r\n                                onClick={() => setFormData({...formData, status: 'published'})}\r\n                                className={cn(\r\n                                    \"flex-1 flex items-center gap-3 p-4 rounded-2xl border transition-all cursor-pointer\",\r\n                                    formData.status === 'published' ? \"bg-emerald-500/5 border-emerald-500/20 text-emerald-400\" : \"bg-white/[0.01] border-white/[0.05] text-foreground/20\"\r\n                                )}\r\n                            >\r\n                                <div className={cn(\"w-2 h-2 rounded-full\", formData.status === 'published' ? \"bg-emerald-400 animate-pulse\" : \"bg-foreground/20\")} />\r\n                                <span className=\"text-xs font-bold uppercase tracking-widest\">Published</span>\r\n                                {formData.status === 'published' && <Eye size={14} className=\"ml-auto\" />}\r\n                            </div>\r\n                            <div \r\n                                onClick={() => setFormData({...formData, status: 'draft'})}\r\n                                className={cn(\r\n                                    \"flex-1 flex items-center gap-3 p-4 rounded-2xl border transition-all cursor-pointer\",\r\n                                    formData.status === 'draft' ? \"bg-yellow-500/5 border-yellow-500/20 text-yellow-500\" : \"bg-white/[0.01] border-white/[0.05] text-foreground/20\"\r\n                                )}\r\n                            >\r\n                                <div className={cn(\"w-2 h-2 rounded-full\", formData.status === 'draft' ? \"bg-yellow-400\" : \"bg-foreground/20\")} />\r\n                                <span className=\"text-xs font-bold uppercase tracking-widest\">Draft</span>\r\n                                {formData.status === 'draft' && <EyeOff size={14} className=\"ml-auto\" />}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-6\">\r\n                            {/* Title & Slug */}\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                <div className=\"space-y-2\">\r\n                                    <label className=\"text-[10px] font-bold uppercase tracking-widest text-foreground/30 ml-1\">Artifact Title</label>\r\n                                    <input\r\n                                        required\r\n                                        value={formData.title}\r\n                                        onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n                                        className=\"w-full bg-white/[0.02] border border-white/[0.05] rounded-xl px-4 py-3 text-sm focus:border-primary/50 transition-all outline-none\"\r\n                                        placeholder=\"Project Name\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"space-y-2\">\r\n                                    <label className=\"text-[10px] font-bold uppercase tracking-widest text-foreground/30 ml-1\">URL Path (Slug)</label>\r\n                                    <input\r\n                                        required\r\n                                        value={formData.slug}\r\n                                        onChange={(e) => setFormData({ ...formData, slug: slugify(e.target.value) })}\r\n                                        className=\"w-full bg-white/[0.02] border border-white/[0.05] rounded-xl px-4 py-3 text-sm focus:border-primary/50 transition-all outline-none font-mono text-[11px]\"\r\n                                        placeholder=\"project-slug\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Description */}\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-[10px] font-bold uppercase tracking-widest text-foreground/30 ml-1\">Brief Description</label>\r\n                                <textarea\r\n                                    required\r\n                                    value={formData.description}\r\n                                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                                    className=\"w-full bg-white/[0.02] border border-white/[0.05] rounded-xl px-4 py-3 text-sm focus:border-primary/50 transition-all outline-none min-h-[100px] resize-none\"\r\n                                    placeholder=\"Executive summary of the project...\"\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Tech & Links */}\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                <div className=\"space-y-2\">\r\n                                    <label className=\"text-[10px] font-bold uppercase tracking-widest text-foreground/30 ml-1\">Technology Stack</label>\r\n                                    <div className=\"relative group\">\r\n                                        <ListTodo className=\"absolute left-3 top-1/2 -translate-y-1/2 text-foreground/20 group-focus-within:text-primary\" size={14} />\r\n                                        <input\r\n                                            value={formData.tech_stack}\r\n                                            onChange={(e) => setFormData({ ...formData, tech_stack: e.target.value })}\r\n                                            className=\"w-full bg-white/[0.02] border border-white/[0.05] rounded-xl pl-9 pr-4 py-3 text-sm focus:border-primary/50 transition-all outline-none\"\r\n                                            placeholder=\"React, Next.js, Tail...\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"space-y-2\">\r\n                                    <label className=\"text-[10px] font-bold uppercase tracking-widest text-foreground/30 ml-1\">Live URL</label>\r\n                                    <div className=\"relative group\">\r\n                                        <Globe className=\"absolute left-3 top-1/2 -translate-y-1/2 text-foreground/20 group-focus-within:text-primary\" size={14} />\r\n                                        <input\r\n                                            type=\"url\"\r\n                                            value={formData.live_url}\r\n                                            onChange={(e) => setFormData({ ...formData, live_url: e.target.value })}\r\n                                            className=\"w-full bg-white/[0.02] border border-white/[0.05] rounded-xl pl-9 pr-4 py-3 text-sm focus:border-primary/50 transition-all outline-none\"\r\n                                            placeholder=\"https://...\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Image Upload */}\r\n                            <div className=\"space-y-3\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <label className=\"text-[10px] font-bold uppercase tracking-widest text-foreground/30 ml-1\">Visual Identity</label>\r\n                                    <div className=\"flex gap-2\">\r\n                                        <button type=\"button\" onClick={() => setUploadMode('upload')} className={cn(\"px-2 py-1 rounded-md text-[9px] font-bold uppercase transition-all\", uploadMode === 'upload' ? \"bg-white text-black\" : \"text-foreground/40 hover:text-foreground\")}>Upload</button>\r\n                                        <button type=\"button\" onClick={() => setUploadMode('url')} className={cn(\"px-2 py-1 rounded-md text-[9px] font-bold uppercase transition-all\", uploadMode === 'url' ? \"bg-white text-black\" : \"text-foreground/40 hover:text-foreground\")}>URL</button>\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                                {uploadMode === 'upload' ? (\r\n                                    <label className=\"block w-full border-2 border-dashed border-white/[0.05] rounded-2xl p-8 hover:border-primary/30 transition-all cursor-pointer bg-white/[0.01]\">\r\n                                        <input type=\"file\" accept=\"image/*\" onChange={handleImageUpload} className=\"hidden\" />\r\n                                        <div className=\"flex flex-col items-center gap-2\">\r\n                                            {uploading ? <Loader2 className=\"animate-spin text-primary\" size={24} /> : <Upload className=\"text-foreground/20\" size={24} />}\r\n                                            <p className=\"text-[11px] font-bold text-foreground/40\">Drop artifact visual or click to browse</p>\r\n                                        </div>\r\n                                    </label>\r\n                                ) : (\r\n                                    <input \r\n                                        type=\"url\" \r\n                                        value={formData.image} \r\n                                        onChange={(e) => { setFormData({...formData, image: e.target.value}); setPreviewImage(e.target.value); }}\r\n                                        className=\"w-full bg-white/[0.02] border border-white/[0.05] rounded-xl px-4 py-3 text-sm focus:border-primary/50 transition-all outline-none\"\r\n                                        placeholder=\"https://images.unsplash.com/...\"\r\n                                    />\r\n                                )}\r\n\r\n                                {previewImage && (\r\n                                    <div className=\"relative aspect-video rounded-xl overflow-hidden border border-white/[0.05]\">\r\n                                        <img src={previewImage} alt=\"Preview\" className=\"w-full h-full object-cover\" />\r\n                                        <button \r\n                                            type=\"button\" \r\n                                            onClick={() => { setFormData({...formData, image: ''}); setPreviewImage(''); }}\r\n                                            className=\"absolute top-2 right-2 p-1.5 bg-black/60 backdrop-blur-md rounded-lg text-white/60 hover:text-red-400 transition-colors\"\r\n                                        >\r\n                                            <X size={14} />\r\n                                        </button>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {error && <p className=\"text-red-400 text-[11px] font-bold bg-red-400/5 p-3 rounded-lg border border-red-400/20\">{error}</p>}\r\n                    </form>\r\n\r\n                    {/* Footer */}\r\n                    <div className=\"p-6 border-t border-white/[0.05] bg-white/[0.01] flex gap-3\">\r\n                        <button onClick={onClose} className=\"flex-1 py-3 rounded-xl bg-white/5 font-bold text-xs hover:bg-white/10 transition-all\">Cancel</button>\r\n                        <button \r\n                            onClick={handleSubmit}\r\n                            disabled={loading || uploading}\r\n                            className=\"flex-1 py-3 rounded-xl bg-white text-black font-bold text-xs hover:bg-white/90 transition-all disabled:opacity-50 flex items-center justify-center gap-2\"\r\n                        >\r\n                            {loading ? <Loader2 size={16} className=\"animate-spin\" /> : <CheckCircle2 size={16} />}\r\n                            {project ? 'Refine Changes' : 'Deploy Artifact'}\r\n                        </button>\r\n                    </div>\r\n                </motion.div>\r\n            </div>\r\n        </AnimatePresence>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 938, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Documents/My%20Data%20Sources/FeedbackHub/Desktop/portifolio-2/client/src/app/admin/projects/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport {\r\n    Plus,\r\n    Edit2,\r\n    Trash2,\r\n    ExternalLink,\r\n    Search,\r\n    Filter,\r\n    MoreVertical,\r\n    CheckCircle2,\r\n    Clock,\r\n    FileCode,\r\n    ChevronDown,\r\n    ArrowUpDown,\r\n    Eye,\r\n    EyeOff\r\n} from 'lucide-react';\r\nimport { supabase } from '@/lib/supabase';\r\nimport { ProjectModal } from '@/components/admin/ProjectModal';\r\nimport { cn } from '@/lib/utils';\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { toast } from 'sonner';\r\n\r\nexport default function AdminProjects() {\r\n    const queryClient = useQueryClient();\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [editingProject, setEditingProject] = useState<any>(null);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [categoryFilter, setCategoryFilter] = useState('all');\r\n    const [deleteConfirm, setDeleteConfirm] = useState<string | null>(null);\r\n\r\n    // Fetch Projects using TanStack Query\r\n    const { data: projects = [], isLoading } = useQuery({\r\n        queryKey: ['projects'],\r\n        queryFn: async () => {\r\n            const { data, error } = await supabase\r\n                .from('projects')\r\n                .select('*')\r\n                .order('order', { ascending: true });\r\n            if (error) throw error;\r\n            return data || [];\r\n        }\r\n    });\r\n\r\n    // Delete Mutation\r\n    const deleteMutation = useMutation({\r\n        mutationFn: async (id: string) => {\r\n            const { error } = await supabase.from('projects').delete().eq('id', id);\r\n            if (error) throw error;\r\n        },\r\n        onSuccess: () => {\r\n            queryClient.invalidateQueries({ queryKey: ['projects'] });\r\n            toast.success('Project deleted successfully');\r\n            setDeleteConfirm(null);\r\n        },\r\n        onError: (err: any) => {\r\n            toast.error(err.message || 'Failed to delete project');\r\n        }\r\n    });\r\n\r\n    const filteredProjects = projects.filter((p: any) => {\r\n        const matchesSearch = p.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            p.category.toLowerCase().includes(searchTerm.toLowerCase());\r\n        const matchesCategory = categoryFilter === 'all' || p.category.toLowerCase() === categoryFilter.toLowerCase();\r\n        return matchesSearch && matchesCategory;\r\n    });\r\n\r\n    const categories = ['all', ...new Set(projects.map((p: any) => p.category.toLowerCase()))];\r\n\r\n    return (\r\n        <div className=\"space-y-8 pb-20 max-w-7xl mx-auto\">\r\n            {/* Header */}\r\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold tracking-tight\">Project Arsenal</h1>\r\n                    <p className=\"text-foreground/40 mt-1 font-medium text-sm\">Manage and curate your professional portfolio artifacts.</p>\r\n                </div>\r\n                <button\r\n                    onClick={() => { setEditingProject(null); setIsModalOpen(true); }}\r\n                    className=\"flex items-center gap-2 bg-white text-black px-5 py-2.5 rounded-xl font-bold text-sm hover:bg-white/90 transition-all shadow-lg shadow-white/5 group\"\r\n                >\r\n                    <Plus size={18} className=\"group-hover:rotate-90 transition-transform duration-300\" />\r\n                    Deploy Project\r\n                </button>\r\n            </div>\r\n\r\n            {/* Toolbar */}\r\n            <div className=\"flex flex-col sm:flex-row gap-3\">\r\n                <div className=\"relative flex-grow group\">\r\n                    <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 text-foreground/20 group-focus-within:text-primary transition-colors\" size={16} />\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Search projects...\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                        className=\"w-full bg-white/[0.02] border border-white/[0.05] rounded-xl pl-11 pr-4 py-3 text-sm focus:outline-none focus:border-primary/50 transition-all font-medium placeholder:text-foreground/20\"\r\n                    />\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                    <div className=\"relative\">\r\n                        <select \r\n                            value={categoryFilter}\r\n                            onChange={(e) => setCategoryFilter(e.target.value)}\r\n                            className=\"appearance-none bg-white/[0.02] border border-white/[0.05] rounded-xl px-4 py-3 pr-10 text-sm font-medium focus:outline-none focus:border-primary/50 transition-all cursor-pointer capitalize\"\r\n                        >\r\n                            {categories.map(cat => (\r\n                                <option key={cat} value={cat} className=\"bg-[#0A0B10]\">{cat}</option>\r\n                            ))}\r\n                        </select>\r\n                        <ChevronDown className=\"absolute right-3 top-1/2 -translate-y-1/2 text-foreground/20 pointer-events-none\" size={14} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Data Table */}\r\n            <div className=\"bg-white/[0.01] border border-white/[0.05] rounded-2xl overflow-hidden shadow-2xl\">\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full text-left\">\r\n                        <thead>\r\n                            <tr className=\"border-b border-white/[0.05] bg-white/[0.01]\">\r\n                                <th className=\"px-6 py-4 text-[10px] font-bold uppercase tracking-[0.2em] text-foreground/20\">Artifact</th>\r\n                                <th className=\"px-6 py-4 text-[10px] font-bold uppercase tracking-[0.2em] text-foreground/20\">Configuration</th>\r\n                                <th className=\"px-6 py-4 text-[10px] font-bold uppercase tracking-[0.2em] text-foreground/20\">Visibility</th>\r\n                                <th className=\"px-6 py-4 text-[10px] font-bold uppercase tracking-[0.2em] text-foreground/20 text-right\">Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-white/[0.03]\">\r\n                            {isLoading ? (\r\n                                Array(4).fill(0).map((_, i) => (\r\n                                    <tr key={i} className=\"animate-pulse\">\r\n                                        <td colSpan={4} className=\"px-6 py-8\">\r\n                                            <div className=\"flex gap-4\">\r\n                                                <div className=\"w-12 h-12 bg-white/5 rounded-xl\" />\r\n                                                <div className=\"flex-grow space-y-2\">\r\n                                                    <div className=\"h-4 bg-white/5 rounded w-1/4\" />\r\n                                                    <div className=\"h-3 bg-white/5 rounded w-1/2\" />\r\n                                                </div>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            ) : filteredProjects.length > 0 ? (\r\n                                filteredProjects.map((project: any, index: number) => (\r\n                                    <motion.tr\r\n                                        key={project.id}\r\n                                        initial={{ opacity: 0 }}\r\n                                        animate={{ opacity: 1 }}\r\n                                        transition={{ delay: index * 0.05 }}\r\n                                        className=\"group hover:bg-white/[0.01] transition-colors\"\r\n                                    >\r\n                                        <td className=\"px-6 py-5\">\r\n                                            <div className=\"flex items-center gap-4\">\r\n                                                <div className=\"w-12 h-12 rounded-xl overflow-hidden border border-white/[0.05] bg-white/5 group-hover:border-primary/30 transition-colors\">\r\n                                                    <img src={project.image} alt=\"\" className=\"w-full h-full object-cover\" />\r\n                                                </div>\r\n                                                <div>\r\n                                                    <h3 className=\"font-bold text-sm tracking-tight text-foreground\">{project.title}</h3>\r\n                                                    <p className=\"text-[11px] text-foreground/30 line-clamp-1 max-w-[180px] mt-0.5\">{project.description}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-5\">\r\n                                            <div className=\"flex flex-col gap-2\">\r\n                                                <span className=\"inline-flex w-fit px-2 py-0.5 bg-primary/5 border border-primary/10 text-[9px] font-bold uppercase tracking-wider text-primary rounded-md\">\r\n                                                    {project.category}\r\n                                                </span>\r\n                                                <div className=\"flex gap-1.5 overflow-hidden\">\r\n                                                    {project.tech_stack?.slice(0, 3).map((tech: string) => (\r\n                                                        <span key={tech} className=\"text-[10px] text-foreground/20 whitespace-nowrap\">{tech}</span>\r\n                                                    ))}\r\n                                                </div>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-5\">\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                {project.status === 'draft' ? (\r\n                                                    <>\r\n                                                        <div className=\"w-1.5 h-1.5 bg-yellow-500 rounded-full\" />\r\n                                                        <span className=\"text-[10px] font-bold uppercase tracking-wider text-yellow-500/80\">Draft</span>\r\n                                                    </>\r\n                                                ) : (\r\n                                                    <>\r\n                                                        <div className=\"w-1.5 h-1.5 bg-emerald-500 rounded-full shadow-[0_0_8px_rgba(16,185,129,0.3)]\" />\r\n                                                        <span className=\"text-[10px] font-bold uppercase tracking-wider text-emerald-500/80\">Published</span>\r\n                                                    </>\r\n                                                )}\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-5\">\r\n                                            <div className=\"flex justify-end items-center gap-2\">\r\n                                                <button \r\n                                                    onClick={() => { setEditingProject(project); setIsModalOpen(true); }}\r\n                                                    className=\"p-2 rounded-lg hover:bg-white/5 text-foreground/40 hover:text-foreground transition-all\"\r\n                                                >\r\n                                                    <Edit2 size={16} />\r\n                                                </button>\r\n                                                \r\n                                                {deleteConfirm === project.id ? (\r\n                                                    <div className=\"flex items-center gap-1\">\r\n                                                        <button \r\n                                                            onClick={() => deleteMutation.mutate(project.id)}\r\n                                                            className=\"p-2 rounded-lg bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white transition-all\"\r\n                                                        >\r\n                                                            <CheckCircle2 size={16} />\r\n                                                        </button>\r\n                                                        <button \r\n                                                            onClick={() => setDeleteConfirm(null)}\r\n                                                            className=\"p-2 rounded-lg hover:bg-white/5 text-foreground/40\"\r\n                                                        >\r\n                                                            <Plus size={16} className=\"rotate-45\" />\r\n                                                        </button>\r\n                                                    </div>\r\n                                                ) : (\r\n                                                    <button \r\n                                                        onClick={() => setDeleteConfirm(project.id)}\r\n                                                        className=\"p-2 rounded-lg hover:bg-red-500/10 text-foreground/40 hover:text-red-400 transition-all\"\r\n                                                    >\r\n                                                        <Trash2 size={16} />\r\n                                                    </button>\r\n                                                )}\r\n                                            </div>\r\n                                        </td>\r\n                                    </motion.tr>\r\n                                ))\r\n                            ) : (\r\n                                <tr>\r\n                                    <td colSpan={4} className=\"px-6 py-20 text-center\">\r\n                                        <div className=\"flex flex-col items-center gap-3\">\r\n                                            <div className=\"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center text-foreground/10\">\r\n                                                <FileCode size={24} />\r\n                                            </div>\r\n                                            <p className=\"text-sm text-foreground/20 italic font-medium\">No projects found in this matrix.</p>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            <ProjectModal\r\n                isOpen={isModalOpen}\r\n                onClose={() => setIsModalOpen(false)}\r\n                onSave={async (data: any) => {\r\n                    const savePromise = editingProject \r\n                        ? supabase.from('projects').update(data).eq('id', editingProject.id)\r\n                        : supabase.from('projects').insert([data]);\r\n                    \r\n                    const { error } = await savePromise;\r\n                    if (error) throw error;\r\n                    \r\n                    queryClient.invalidateQueries({ queryKey: ['projects'] });\r\n                    toast.success(editingProject ? 'Project refined' : 'Project deployed');\r\n                }}\r\n                project={editingProject}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}