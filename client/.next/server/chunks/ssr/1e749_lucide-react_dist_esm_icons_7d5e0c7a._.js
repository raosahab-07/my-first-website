module.exports=[79342,a=>{"use strict";let b=(0,a.i(31276).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],79342)},99447,a=>{"use strict";let b=(0,a.i(31276).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],99447)},12468,a=>{"use strict";let b=(0,a.i(31276).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);a.s(["Zap",()=>b],12468)},80494,a=>{"use strict";let b=(0,a.i(31276).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["ShieldCheck",()=>b],80494)},80728,19433,a=>{"use strict";let b=(0,a.i(31276).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);a.s(["Globe",()=>b],80728);var c=a.i(58437);async function d(){try{console.log("ðŸ§ª Testing bucket access for both avatars and portfolio-image...");let a=new File(["test"],"avatar-test.txt",{type:"text/plain"}),{error:b}=await c.supabase.storage.from("avatars").upload(`test-${Date.now()}-avatar.txt`,a,{upsert:!0}),d=new File(["test"],"portfolio-test.txt",{type:"text/plain"}),{error:e}=await c.supabase.storage.from("portfolio-image").upload(`test-${Date.now()}-portfolio.txt`,d,{upsert:!0});if(b||e){let a=b?`Avatars bucket: ${b.message}`:`Portfolio bucket: ${e?.message||"Unknown error"}`;return{success:!1,error:a}}return console.log("âœ… Both buckets are accessible!"),{success:!0,message:"Both avatars and portfolio-image buckets are working correctly!"}}catch(a){return console.error("Bucket access test error:",a),{success:!1,error:a.message||"Connection failed"}}}async function e(a){try{let b=g(a);if(b)throw Error(b);let d=a.name.split(".").pop(),e=`avatar-${Date.now()}-${Math.random().toString(36).substring(2)}.${d}`;console.log("Attempting to upload to avatars bucket:",e),await c.supabase.storage.from("avatars").remove([e]);let f=await c.supabase.storage.from("avatars").upload(e,a,{cacheControl:"3600",upsert:!0,contentType:a.type});if(f.error)if(console.error("Supabase avatar upload error:",f.error),f.error.message.includes("row-level security")||f.error.message.includes("permission")){if(console.log("Retrying with authenticated upload..."),(f=await c.supabase.storage.from("avatars").upload(e,a,{cacheControl:"3600",upsert:!0,contentType:a.type})).error)throw Error(`Avatar upload failed: ${f.error.message}`)}else throw Error(`Avatar upload failed: ${f.error.message}`);f.data,console.log("Avatar upload successful, getting public URL");let{data:{publicUrl:h}}=c.supabase.storage.from("avatars").getPublicUrl(e);return console.log("Avatar public URL generated:",h),h}catch(a){throw console.error("Avatar upload error:",a),Error(a.message||"Failed to upload avatar")}}async function f(a){try{let b=g(a);if(b)throw Error(b);let d=a.name.split(".").pop(),e=`project-${Date.now()}-${Math.random().toString(36).substring(2)}.${d}`,f=`projects/${e}`;await c.supabase.storage.from("portfolio-image").remove([f]);let h=await c.supabase.storage.from("portfolio-image").upload(f,a,{cacheControl:"3600",upsert:!0,contentType:a.type});if(h.error)if(console.error("Supabase project image upload error:",h.error),h.error.message.includes("row-level security")||h.error.message.includes("permission")){if(console.log("Retrying with authenticated upload..."),(h=await c.supabase.storage.from("portfolio-image").upload(f,a,{cacheControl:"3600",upsert:!0,contentType:a.type})).error)throw Error(`Project image upload failed: ${h.error.message}`)}else throw Error(`Project image upload failed: ${h.error.message}`);h.data;let{data:{publicUrl:i}}=c.supabase.storage.from("portfolio-image").getPublicUrl(f);return console.log("Project image public URL generated:",i),i}catch(a){throw console.error("Project image upload error:",a),Error(a.message||"Failed to upload project image")}}function g(a){return["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(a.type)?a.size>5242880?"Image size must be less than 5MB":null:"Please upload a valid image file (JPEG, PNG, GIF, or WebP)"}a.s(["testBucketAccess",()=>d,"uploadAvatarImage",()=>e,"uploadProjectImage",()=>f,"validateImageFile",()=>g],19433)}];

//# sourceMappingURL=1e749_lucide-react_dist_esm_icons_7d5e0c7a._.js.map